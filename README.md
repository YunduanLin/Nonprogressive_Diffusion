# Code for the paper -- Nonprogressive Diffusion on Social Networks: Approximation and Applications

This repository contains code for the paper [Nonprogressive Diffusion on Social Networks: Approximation and Applications](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4232670). In this work, we use open-source social network data from the [Network Repository](https://networkrepository.com/networks.php) and synthetic random graphs. If you have questions, please contact the authors.

## Contents

- [Files](#files)
- [Data](#data)
- [Reproduction guide](#reproduction-guide)

---

## Files

### `code/`

- **`network.py`**  
  Defines a `Network` class to (i) load a given network from file or (ii) generate random graphs from specified parameters.

- **`diffusion_simulation.py`**  
  Implements the diffusion environment, including (a) an agent-based simulator and (b) a fixed-point approximation (FPA) to compute long-run adoption probabilities.

- **`IM.py`**  
  Algorithms for the **influence maximization** application described in the paper.

- **`pricing_gradient.py`**  
  Algorithms for the **pricing** application on networks.

- **`example_analyze.ipynb`**  
  Notebook to reproduce the **example network** results (e.g., Figures 1–2 and Table EC.1).

- **`test.ipynb`**  
  Notebook to reproduce the **main experiments** (e.g., Figures 3–7 and Tables 1–2).  
  By default, it runs a **single repetition** for speed.

### `instances/`

- **`Caltech36.txt`, `Reed98.txt`, `Haverford76.txt`, `Simmons81.txt`, `Amherst41.txt`**  
  Raw network files from the [Network Repository](https://networkrepository.com/networks.php).

- **`example/`**  
  Data for the example network used in the paper.

- **Other folders**  
  Intermediate artifacts generated by running `test.ipynb` once with `rep=1`. Re-running will overwrite these.

---

## Data

- Public networks are under `instances/` as plain-text edge lists.  
- Synthetic graphs are generated by the code using parameters set in the notebooks or paper.

---

## Reproduction Notes

- The paper reports results averaged over **50 repetitions per network** for robustness; the default in the code (`rep=1`) is for demonstration only, so outputs will be similar but not identical due to randomness. To fully match the paper’s robustness checks, set `rep=50` in `test.ipynb`. But, be aware that running `rep=50` across all networks is **VERY** time-consuming and can generate **>70 GB** of intermediate files. 

- Reported runtimes vary by hardware, so when comparing with the paper we recommend focusing on **relative improvements** between methods rather than absolute times.

